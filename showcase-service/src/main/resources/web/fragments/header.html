<!DOCTYPE html>
<html
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="ru">
<head th:fragment="header-head">
    <link rel="stylesheet" th:href="@{/styles/fragments/header.css}">
</head>

<body>
<header class="header" th:fragment="header">
    <div class="container">
        <nav class="nav">
            <a href="/products" class="logo">GeekStore</a>
            <div class="nav-links">

                <!-- –î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                <div sec:authorize="hasRole('USER')">
                    <a href="/products/add" class="nav-link">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä—ã</a>
                    <a href="/orders" class="nav-link">–ó–∞–∫–∞–∑—ã</a>
                    <a href="/cart" class="nav-link">
                        üõí
                        <span class="cart-total"
                              th:text="${cart?.totalPrice != null
                        ? (cart.totalPrice == 0 ? '0,00'
                        : #numbers.formatDecimal(cart.totalPrice, 0, 2, 'COMMA')) : '0,00'} + ' ‚ÇΩ'">
                </span>
                    </a>
                </div>

                <!-- –î–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                <div sec:authorize="isAnonymous()">
                    <a href="/login" class="nav-link">–í–æ–π—Ç–∏</a>
                    <a href="/sign-up" class="nav-link">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                </div>

                <div th:unless="${#authorization.expression('isAuthenticated()')}">
                    <a href="/login" class="nav-link">–í–æ–π—Ç–∏</a>
                    <a href="/sign-up" class="nav-link">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                </div>

                <div th:if="${#authorization.expression('isAnonymous()')}">
                    <a href="/login" class="nav-link">–í–æ–π—Ç–∏</a>
                    <a href="/sign-up" class="nav-link">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                </div>
            </div>
        </nav>
    </div>
</header>
</body>
</html>